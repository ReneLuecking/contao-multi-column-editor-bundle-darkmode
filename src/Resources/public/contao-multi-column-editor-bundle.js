!function(e){function t(t){for(var n,r,i=t[0],a=t[1],l=0,c=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&c.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},o={"contao-multi-column-editor-bundle":0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/bundles/heimrichhannotcontaomulticolumneditor/",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=a;r(r.s="3K4J")}({"3K4J":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var formdata_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("hRLk"),formdata_polyfill__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(formdata_polyfill__WEBPACK_IMPORTED_MODULE_0__);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var MultiColumnEditorBundle=function(){function MultiColumnEditorBundle(){_classCallCheck(this,MultiColumnEditorBundle)}return _createClass(MultiColumnEditorBundle,null,[{key:"init",value:function(){var e=document.querySelectorAll(".multi-column-editor");if(!(e.length<1)){var t="backend"===e[0].dataset.env;utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .add",(function(e,n){n.preventDefault(),MultiColumnEditorBundle.triggerAction(t,e,"addRow",e.href)})),utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .delete",(function(e,n){n.preventDefault(),MultiColumnEditorBundle.triggerAction(t,e,"deleteRow",e.href)})),utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .drag-handle",(function(e,t){t.preventDefault()})),utilsBundle.event.addDynamicEventListener("click","[data-mce-click]",(function(e,n){MultiColumnEditorBundle.triggerAction(t,e,"updateRows",e.getAttribute("data-mce-click"))})),utilsBundle.event.addDynamicEventListener("change","[data-mce-change]",(function(e,n){MultiColumnEditorBundle.triggerAction(t,e,"updateRows",e.getAttribute("data-mce-change"))})),MultiColumnEditorBundle.initSortable(t)}}},{key:"initSortable",value:function(e){e?new Sortables(".multi-column-editor-wrapper .sortable",{constrain:!0,opacity:.6,handle:".drag-handle",onComplete:function(t){for(var n=[],o=!1,r=t.closest(".rows").querySelectorAll(".mce-row"),i=0;i<r.length;i++)n.push(r[i].dataset.index),r[i].dataset.index!==[].slice.call(r).indexOf(this)+1&&(o=!0);var a=[{name:"newIndices",value:n.join(",")}];o&&MultiColumnEditorBundle.triggerAction(e,t.querySelector(".drag-handle"),"sortRows",null,a)}}):Promise.resolve().then(__webpack_require__.t.bind(null,"o1Lx",7)).then((function(t){var n=document.querySelectorAll(".multi-column-editor-wrapper .sortable");n.forEach((function(o){t.create(o,{handle:".drag-handle",onEnd:function(t){for(var r=[],i=!1,a=t.item.closest(".rows").querySelectorAll(".mce-row"),l=0;l<a.length;l++)r.push(a[l].dataset.index),a[l].dataset.index!==Array.prototype.indexOf.call(n,o)+1&&(i=!0);var u=[{name:"newIndices",value:r.join(",")}];i&&MultiColumnEditorBundle.triggerAction(e,t.item.querySelector(".drag-handle"),"sortRows",null,u)}})}))}))}},{key:"triggerAction",value:function triggerAction(isBackend,link,action,url,additionalFormData,callback){var form=link.closest("form"),formData=new FormData,editor=link.closest(".multi-column-editor");null===url&&(url=form.action),form.querySelectorAll("input[name]:not([disabled]), textarea[name]:not([disabled]), select[name]:not([disabled]), button[name]:not([disabled])").forEach((function(e){if("FORM_SUBMIT"!==e.name)switch(e.type){case"checkbox":case"radio":formData.append(e.name,e.checked?e.value:"");break;default:formData.append(e.name,e.value)}}));var row=link.closest(".mce-row");formData.set("row",null!=row?row.dataset.index:0),formData.set("field",editor.dataset.field),formData.set("table",editor.dataset.table),formData.set("action",action),void 0!==additionalFormData&&additionalFormData.forEach((function(e){if("FORM_SUBMIT"!==e.name)switch(e.type){case"checkbox":case"radio":formData.append(e.name,e.checked?e.value:"");break;default:formData.append(e.name,e.value)}}));var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState){var customEvent=document.createEvent("CustomEvent");if(customEvent.initEvent("ajaxSuccess",!0,!0),document.dispatchEvent(customEvent),200===xhr.status)if(isBackend){var response=document.createElement("div");response.innerHTML=xhr.responseText;var scriptElements=response.childNodes[0].getElementsByTagName("script");link.closest(".multi-column-editor-wrapper").replaceWith(response.childNodes[0]),MultiColumnEditorBundle.initChosen(),MultiColumnEditorBundle.initSortable(isBackend);for(var n=0;n<scriptElements.length;n++)eval(scriptElements[n].innerHTML);"function"==typeof callback&&callback.apply(this,Array.prototype.slice.call(arguments,1));var e=document.createEvent("CustomEvent");e.initEvent("ajaxComplete",!0,!0),document.dispatchEvent(e)}else{var data=JSON.parse(xhr.responseText),_response=document.createElement("div");_response.innerHTML=data.result.html,link.closest(".multi-column-editor-wrapper").replaceWith(_response.childNodes[0]),MultiColumnEditorBundle.initSortable(isBackend),"function"==typeof callback&&callback.apply(this,Array.prototype.slice.call(arguments,1)),customEvent=document.createEvent("CustomEvent"),customEvent.initEvent("ajaxComplete",!0,!0),document.dispatchEvent(customEvent)}}},xhr.open("POST",url),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(formData)}}]),MultiColumnEditorBundle}();document.addEventListener("DOMContentLoaded",MultiColumnEditorBundle.init),"function"==typeof window.addEvent&&window.addEvent("domready",(function(){MultiColumnEditorBundle.initChosen=function(){$$(".multi-column-editor select.tl_chosen").each((function(e){void 0===e.initialized&&(e.initialized=$$("#"+e.getAttribute("id")).chosen())}))}}))},hRLk:function(e,t,n){(function(e){!function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function i(){i=function(){},r.Symbol||(r.Symbol=c)}function a(e,t){this.s=e,o(this,"description",{configurable:!0,writable:!0,value:t})}a.prototype.toString=function(){return this.s};var l,u,c=(l=0,function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(t||"")+"_"+l++,t)});function s(){i();var e=r.Symbol.iterator;e||(e=r.Symbol.iterator=r.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&o(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return function(e){return s(),(e={next:e})[r.Symbol.iterator]=function(){return this},e}(n(this))}}),s=function(){}}function d(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var f;e:{var p={};try{p.__proto__={v:!0},f=p.v;break e}catch(e){}f=!1}u=f?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=u;function m(){this.h=!1,this.c=null,this.o=void 0,this.b=1,this.m=this.w=0,this.g=null}function v(e){if(e.h)throw new TypeError("Generator is already running");e.h=!0}function y(e,t,n){return e.b=n,{value:t}}function b(e){for(var t in this.C=e,this.l=[],e)this.l.push(t);this.l.reverse()}function _(e){this.a=new m,this.D=e}function w(e,t,n,o){try{var r=t.call(e.a.c,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.a.h=!1,r;var i=r.value}catch(t){return e.a.c=null,e.a.j(t),g(e)}return e.a.c=null,o.call(e.a,i),g(e)}function g(e){for(;e.a.b;)try{var t=e.D(e.a);if(t)return e.a.h=!1,{value:t.value,done:!1}}catch(t){e.a.o=void 0,e.a.j(t)}if(e.a.h=!1,e.a.g){if(t=e.a.g,e.a.g=null,t.B)throw t.A;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function E(e){this.next=function(t){return e.i(t)},this.throw=function(t){return e.j(t)},this.return=function(t){return function(e,t){v(e.a);var n=e.a.c;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),g(e))}(e,t)},s(),this[Symbol.iterator]=function(){return this}}function x(e,t){var n=new E(new _(t));return h&&h(n,e.prototype),n}if(m.prototype.i=function(e){this.o=e},m.prototype.j=function(e){this.g={A:e,B:!0},this.b=this.w||this.m},m.prototype.return=function(e){this.g={return:e},this.b=this.m},_.prototype.i=function(e){return v(this.a),this.a.c?w(this,this.a.c.next,e,this.a.i):(this.a.i(e),g(this))},_.prototype.j=function(e){return v(this.a),this.a.c?w(this,this.a.c.throw,e,this.a.i):(this.a.j(e),g(this))},"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var k=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},S=function(e,t,n){return t instanceof Blob?[String(e),t,void 0!==n?n+"":"string"==typeof t.name?t.name:"blob"]:[String(e),String(t)]},M=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},B=function(e){var t=d(e);return e=t.next().value,t=t.next().value,e instanceof Blob&&(e=new File([e],t,{type:e.type,lastModified:e.lastModified})),e},C="object"==typeof window?window:"object"==typeof self?self:this,D=C.FormData,j=C.XMLHttpRequest&&C.XMLHttpRequest.prototype.send,O=C.Request&&C.fetch,A=C.navigator&&C.navigator.sendBeacon;i();var L=C.Symbol&&Symbol.toStringTag;L&&(Blob.prototype[L]||(Blob.prototype[L]="Blob"),"File"in C&&!File.prototype[L]&&(File.prototype[L]="File"));try{new File([],"")}catch(e){C.File=function(e,t,n){return e=new Blob(e,n),n=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date,Object.defineProperties(e,{name:{value:t},lastModifiedDate:{value:n},lastModified:{value:+n},toString:{value:function(){return"[object File]"}}}),L&&Object.defineProperty(e,L,{value:"File"}),e}}i(),s();var q=function(e){if(this.f=Object.create(null),!e)return this;var t=this;k(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type)if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];k(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?k(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?e.value.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n"):e.value,t.append(e.name,n))}))};if((t=q.prototype).append=function(e,t,n){M(arguments,2);var o=d(S.apply(null,arguments));e=o.next().value,t=o.next().value,n=o.next().value,(o=this.f)[e]||(o[e]=[]),o[e].push([t,n])},t.delete=function(e){M(arguments,1),delete this.f[String(e)]},t.entries=function e(){var t,n,o,r,i,a,l=this;return x(e,(function(e){switch(e.b){case 1:t=l.f,o=new b(t);case 2:var u;e:{for(u=o;0<u.l.length;){var c=u.l.pop();if(c in u.C){u=c;break e}}u=null}if(null==(n=u)){e.b=0;break}r=d(t[n]),i=r.next();case 5:if(i.done){e.b=2;break}return a=i.value,y(e,[n,B(a)],6);case 6:i=r.next(),e.b=5}}))},t.forEach=function(e,t){M(arguments,1);for(var n=d(this),o=n.next();!o.done;o=n.next()){var r=d(o.value);o=r.next().value,r=r.next().value,e.call(t,r,o,this)}},t.get=function(e){M(arguments,1);var t=this.f;return t[e=String(e)]?B(t[e][0]):null},t.getAll=function(e){return M(arguments,1),(this.f[String(e)]||[]).map(B)},t.has=function(e){return M(arguments,1),String(e)in this.f},t.keys=function e(){var t,n,o,r,i=this;return x(e,(function(e){if(1==e.b&&(t=d(i),n=t.next()),3!=e.b)return n.done?void(e.b=0):(o=n.value,r=d(o),y(e,r.next().value,3));n=t.next(),e.b=2}))},t.set=function(e,t,n){M(arguments,2);var o=S.apply(null,arguments);this.f[o[0]]=[[o[1],o[2]]]},t.values=function e(){var t,n,o,r,i=this;return x(e,(function(e){if(1==e.b&&(t=d(i),n=t.next()),3!=e.b)return n.done?void(e.b=0):(o=n.value,(r=d(o)).next(),y(e,r.next().value,3));n=t.next(),e.b=2}))},q.prototype._asNative=function(){for(var e=new D,t=d(this),n=t.next();!n.done;n=t.next()){var o=d(n.value);n=o.next().value,o=o.next().value,e.append(n,o)}return e},q.prototype._blob=function(){for(var e="----formdata-polyfill-"+Math.random(),t=[],n=d(this),o=n.next();!o.done;o=n.next()){var r=d(o.value);o=r.next().value,r=r.next().value,t.push("--"+e+"\r\n"),r instanceof Blob?t.push('Content-Disposition: form-data; name="'+o+'"; filename="'+r.name+'"\r\n',"Content-Type: "+(r.type||"application/octet-stream")+"\r\n\r\n",r,"\r\n"):t.push('Content-Disposition: form-data; name="'+o+'"\r\n\r\n'+r+"\r\n")}return t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},q.prototype[Symbol.iterator]=function(){return this.entries()},q.prototype.toString=function(){return"[object FormData]"},L&&(q.prototype[L]="FormData"),j){var R=C.XMLHttpRequest.prototype.setRequestHeader;C.XMLHttpRequest.prototype.setRequestHeader=function(e,t){R.call(this,e,t),"content-type"===e.toLowerCase()&&(this.u=!0)},C.XMLHttpRequest.prototype.send=function(e){e instanceof q?(e=e._blob(),this.u||this.setRequestHeader("Content-Type",e.type),j.call(this,e)):j.call(this,e)}}if(O){var P=C.fetch;C.fetch=function(e,t){return t&&t.body&&t.body instanceof q&&(t.body=t.body._blob()),P.call(this,e,t)}}A&&(C.navigator.sendBeacon=function(e,t){return t instanceof q&&(t=t._asNative()),A.call(this,e,t)}),C.FormData=q}}()}).call(this,n("yLpj"))},o1Lx:function(e,t){e.exports=Sortable},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}});